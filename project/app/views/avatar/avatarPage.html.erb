<html>
    <head>
    <style>
        #chart {
            display: table;
            //border: 5px solid black;
            height: 150px;
        }
        .tablerow {
            display: table-row;
            //border: 5px solid black;
        }
        .tablecell {
            display: table-cell;
            border: 2px solid black;
            //height: 10px;
        }
    </style>
    <script>
        var username;
        var user;
    </script>
    </head>
    <body>
        <h1>Avatar</h1>
        <form>
            <input type = "radio" id = "male" name = "gender" value = "male">Male
            <input type = "radio" id = "female" name = "gender" value = "female">Female <br />
            <input id = "weight" type = "number" name = "weight">lbs
            <input id = "height" type = "number" name = "height">ft.
            <input type = "button" id = "submit" value = "submit" onclick = "bmiFunction()">
        </form>
        <div id = "image"> Avatar</div></br>
        <div id = "chart">
            <div class = "tablerow">
                <div id = "avatarBmi" class = "tablecell"></div>
            </div>
            <div class = "tablerow">
                <div class = "tablecell"><p>BMI</p></div>
                <div class = "tablecell"><p>Weight Status</p></div>
            </div>
            <div class = "tablerow">
                <div class = "tablecell"><p>Below 18.5</p></div>
                <div class = "tablecell"><p>Underweight</p></div>
            </div>
            <div class = "tablerow">
                <div class = "tablecell"><p>18.5-24.9</p></div>
                <div class = "tablecell"><p>Normal</p></div>
            </div>
            <div class = "tablerow">
                <div class = "tablecell"><p>25.0-29.9</p></div>
                <div class = "tablecell"><p>Overweight</p></div>
            </div>
            <div class = "tablerow">
                <div class = "tablecell"><p>30.0 and Above</p></div>
                <div class = "tablecell"><p>Obese</p></div>
            </div>
        </div>
        <a href='../minigames/desktop?username='+username><input type = "button" value = "Go to Game Map"></a>
        <script>
            $(document).ready( function() {
                username = getURLParameter('username');
                user = JSON.parse(localStorage[username]);
                function getURLParameter(name) {
                    return decodeURIComponent((new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(location.search)||[,""])[1].replace(/\+/g, '%20'))||null;
                };
            });
            function bmiFunction() {
                var inPerFoot = 12;
                var pounds = document.getElementById("weight").value;
                var inches = document.getElementById("height").value * inPerFoot;
                var bmi = (pounds / (Math.pow(inches, 2))) * 703;
                if (document.getElementById("male").checked) {
                    if (bmi < 18.5) {
                       document.getElementById("image").innerHTML = "<img src = '../../assets/anorexicMale.png'>";
                    }
                    if (bmi >= 18.5 && bmi < 25.0) {
                        document.getElementById("image").innerHTML = "<img src = '../../assets/normalWeightMale.png'>";
                    }
                    if (bmi >= 25.0 && bmi < 30.0) {
                        document.getElementById("image").innerHTML = "<img src = '../../assets/chubbyMale.png'>";
                    }
                    if (bmi >= 30.0) {
                        document.getElementById("image").innerHTML = "<img src = '../../assets/obeseMale.png'>";
                    }
                }
                if (document.getElementById("female").checked) {
                     if (bmi < 18.5) {
                         document.getElementById("image").innerHTML = "<img src = '../../assets/anorexicFemale.png'>";
                     }
                     if (bmi >= 18.5 && bmi < 25.0) {
                         document.getElementById("image").innerHTML = "<img src = '../../assets/normalWeightFemale.png'>";
                     }
                     if (bmi >= 25.0 && bmi < 30.0) {
                         document.getElementById("image").innerHTML = "<img src = '../../assets/chubbyFemale.png'>";
                     }
                     if (bmi >= 30.0) {
                         document.getElementById("image").innerHTML = "<img src = '../../assets/obeseFemale.png'>";
                     }
                }
                document.getElementById("avatarBmi").innerHTML = bmi;
            }

        </script>
    </body>
</html>
